<div style="font-family: Segoe UI Emoji;">
    <div class="wrapper">
        <nav class="main-header navbar navbar-expand" style="background-color:#0D245E;">
            <ul class="navbar-nav">
                <li>
                    <div class="nav-link text-white" data-widget="pushmenu"><i class="fas fa-bars"></i></div>
                </li>
                <li class="nav-link text-white">
                    DETALLE DEL EXPOSITOR <i class="fas fa-user-cog text-white" style="font-size: 22px;"></i> /
                    SERVICIOS - INCIDENCIAS
                </li>
            </ul>
        </nav>
        <app-menu-fm></app-menu-fm>
        <div class="content-wrapper">
            <!------------------------------ AQUI EMPIEZAS A PONER LO QUE QUIERAS-------------------------------------------->
            <div class="container pt-4">
                <div class="col-12  pt-2 pb-1 text-white bg-dark " style="border-radius: 5px 5px 0px 0px;">
                    <div class="row ">
                        <div class="col-3 pl-4 ">
                            <img style="width:50px;" *ngIf="!dataValidation(standRefe.logo)" src=""
                                class="img-circle elevation-5 " alt="">
                            <img style="width:50px;" *ngIf="dataValidation(standRefe.logo)"
                                src="../../../assets/img_test/gtec.jpg" class="img-circle elevation-5 "
                                alt="User Image">
                        </div>
                        <div class="col-9 text-right" *ngIf="standRefe"> {{standRefe.expositor.nombre_comercial}} <b
                                class="text-danger  p-2 ">
                                STAND: {{standRefe.numeroStand}} </b>
                        </div>
                    </div>
                    <div class="col-12  m-2">
                        <div class="row ">

                            <div class="col-7 text-right text-lg pb-3">
                                <div class="row">
                                    <div class="col-11">
                                        <b> Porcentaje del armado:
                                            <font class=" text-warning pb-3" *ngIf="!standRefe">0%</font>
                                            <font class=" text-warning pb-3" *ngIf="standRefe">
                                                {{standRefe.porcentajeArmado}}%&nbsp;
                                            </font>
                                        </b>
                                    </div>
                                    <div class="col-1 text-left">
                                        <font class="text-warning pb-3"><i class="fa fa-spinner fa-spin"
                                                *ngIf="Time!=0"></i></font>
                                    </div>
                                </div>
                            </div>
                            <div class="col-5 text-right">
                                <b *ngFor="let item of renderDro">
                                    <a target="_blank" href="http://www.youtube.com">
                                        <button type=" button " class="btn btn-sm btn-primary elevation-2 p-1"
                                            *ngIf="byteValidation(item.tipo)">
                                            <i class="far fa-file-pdf "></i> RENDER
                                        </button>
                                    </a>
                                    &nbsp;
                                    <a target="_blank" href="http://www.facebook.com">
                                        <button type="button " class="btn btn-sm btn-primary elevation-2 p-1 "
                                            *ngIf="!byteValidation(item.tipo)">
                                            <i class="far fa-file-pdf "></i> DRO
                                        </button>
                                    </a>
                                </b>
                            </div>

                            <div class="col-1 text-right ">10%</div>
                            <div class="col-3 text-right ">20%</div>
                            <div class="col-2 text-right ">40%</div>
                            <div class="col-2 text-right ">60%</div>
                            <div class="col-2 text-right ">80%</div>
                            <div class="col-2 text-right ">100%</div>

                            <div class="col-12 pr-4 ">
                                <div id="percentLabel" class="slider " tabindex="0 "
                                    style="--percent:{{standRefe.porcentajeArmado}}">
                                    <button class="slider-track" tabindex="-1 " (mouseout)="calcularPorcentaje()"
                                        style="--color:{{colorBarra}}"></button>
                                    <button class="slider-thumb" tabindex="-1 " data-title=" "
                                        (mousemove)="calcularPorcentaje()"></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 pt-3 ">
                            <div class="row ">
                                <div class="col-8 text-left row m-0 ">Pago de stand:
                                    <p class="card-text text-success " *ngIf="byteValidation(standRefe.statusPago)">
                                        &nbsp;<i class="fas fa-check-circle text-success "></i> PAGADO
                                    </p>
                                    <p class="card-text text-danger " *ngIf="!byteValidation(standRefe.statusPago)">
                                        &nbsp;<i class="fas fa-times-circle text-danger "></i> NO PAGADO
                                    </p>
                                </div>

                                <div class="col-4 text-right p-0 "> <button type="button" data-toggle="modal"
                                        data-target=".bd-example-modal-xl3" (click)="getEvidenciasStand(standRefe.id)"
                                        class="btn btn-sm  btn-info elevation-2 "><i class="far fa-eye"></i> Evidencias
                                    </button></div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-----------------------------------------------------------------------------------------CARTA DE PESTAÃ‘AS---------------------------------------------------------------------------------->
                <div class="card ">
                    <div class="card-header bg-light d-flex p-0 ">
                    </div>
                    <!-- /.card-header -->
                    <div class="col-12 text-right mt-3 pb-0 ">
                        <button type="button" class="btn btn-sm btn-outline-danger elevation-1" data-toggle="modal"
                            data-target=".bd-example-modal-xl2"><i class="fas fa-plus-circle "></i> Incidencia </button>
                    </div>
                    <div class="card-body pt-0 ">
                        <mat-tab-group>
                            <mat-tab label="SERVICIOS ({{totalServicios}})">
                                <div class="table-responsive pt-4">
                                    <table class="table table-bordered text-center table-sm " *ngIf="dataServices">
                                        <thead class="thead-dark" *ngIf="dataServices.length>0">
                                            <tr>
                                                <th><i class="fas fa-briefcase "></i> </th>
                                                <th scope="col ">Servicios</th>
                                                <th scope="col ">Status</th>
                                                <th scope="col ">Detalle</th>
                                            </tr>
                                        </thead>
                                        <div class="alert alert-info" role="alert" *ngIf="dataServices.length==0">
                                            Este Stand a&uacute;n no ha contratado servicios.
                                        </div>
                                        <tbody>
                                            <tr *ngFor="let item of dataServices">
                                                <td>
                                                    <i class="{{item.icono}}"></i>
                                                </td>
                                                <td scope="row ">
                                                    <b>{{item.nombre}}</b>
                                                </td>
                                                <td>
                                                    <font class="bg-danger p-1 pl-2 pr-2 rounded"
                                                        *ngIf="item.total!=item.activados">
                                                        {{item.activados}}/{{item.total}}</font>
                                                    <font class="bg-success p-1 pl-2 pr-2 rounded"
                                                        *ngIf="item.total==item.activados">
                                                        {{item.activados}}/{{item.total}}</font>
                                                </td>
                                                <td>
                                                    <button type="button " class="btn btn-outline-primary btn-sm "
                                                        data-toggle="modal" data-target=".bd-example-modal-xl"
                                                        (click)="openModalServicios(item.idServicio)">
                                                        <i class="fas fa-info "></i>
                                                    </button>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </mat-tab>
                            <mat-tab label="INCIDENCIAS ({{incidencia.length}})" *ngIf="incidencia">
                                <div class="table-responsive pt-4 ">
                                    <table class="table table-bordered text-center table-sm ">
                                        <thead class="thead-dark " *ngIf="incidencia.length>0">
                                            <tr>
                                                <th> <i class="fas fa-ticket-alt "></i></th>
                                                <th class=" " scope="col ">Incidencia</th>
                                                <th scope="col ">Status
                                                    <font class="text-warning pb-3"><i class="fa fa-spinner fa-spin"
                                                            *ngIf="TimeIncidencia!=0"></i></font>
                                                </th>
                                                <th scope="col "><i class="far fa-clock "></i> </th>
                                                <th scope="col ">Detalle</th>
                                            </tr>
                                        </thead>
                                        <div class="alert alert-info" role="alert" *ngIf="incidencia.length==0">
                                            No se han registrado incidencias en este Stand.
                                        </div>
                                        <tbody>
                                            <tr *ngFor="let item of incidencia">
                                                <td>{{item.incidencia.ticket}}</td>
                                                <td class=" " scope="row "> <b>{{item.incidencia.tipoIncidencia}}</b> <i
                                                        class="text-info ">({{item.incidencia.categoria}}) </i>
                                                </td>
                                                <td class=" pl-5 pr-5 ">
                                                    <select *ngIf="item.incidencia.status==0"
                                                        (change)="cambiarColores(item.id);"
                                                        id="estatusIncidencia{{item.id}}"
                                                        class="form-control form-control-sm bg-danger">
                                                        <option class=" " value="0" selected>No iniciada</option>
                                                        <option class=" " value="1">Proceso</option>
                                                        <option class=" " value="2">Terminada</option>
                                                    </select>
                                                    <select *ngIf="item.incidencia.status==1"
                                                        (change)="cambiarColores(item.id);"
                                                        id="estatusIncidencia{{item.id}}"
                                                        class="form-control form-control-sm bg-warning">
                                                        <option class=" " value="0">No iniciada</option>
                                                        <option class=" " value="1" selected>Proceso</option>
                                                        <option class=" " value="2">Terminada</option>
                                                    </select>
                                                    <select *ngIf="item.incidencia.status==2"
                                                        (change)="cambiarColores(item.id);"
                                                        id="estatusIncidencia{{item.id}}"
                                                        class="form-control form-control-sm bg-success">
                                                        <option class=" " value="0">No iniciada</option>
                                                        <option class=" " value="1">Proceso</option>
                                                        <option class=" " value="2" selected>Terminada</option>
                                                    </select>
                                                </td>
                                                <td class="text-info" *ngIf="item.incidencia.registroDia!=0">
                                                    <b class="text-dark">{{item.incidencia.registroDia}}</b>d <b
                                                        class="text-dark">{{item.incidencia.registroHora}}</b>hrs <b
                                                        class="text-dark">{{item.incidencia.registroMinuto}}</b>min
                                                </td>
                                                <td *ngIf="item.incidencia.registroDia==0">
                                                    {{item.incidencia.registroHora}}:{{item.incidencia.registroMinuto}}
                                                </td>
                                                <td>
                                                    <a href="RespuestaExpositor.html ">
                                                        <button type="button " class="btn btn-outline-primary btn-sm ">
                                                            <i class="far fa-comment "></i></button> </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </mat-tab>
                        </mat-tab-group>
                    </div>
                    <!-- /.card-body -->
                </div>
            </div>
            <!--End Body-->
            <!-- /. CONTAINER -->



            <!--  / M  O   D   A  L     de          servicios -->
            <div class="modal fade bd-example-modal-xl " tabindex="-1" role="dialog"
                aria-labelledby="myExtraLargeModalLabel" aria-hidden="true" *ngIf="modalServicios.length>0">
                <div class="modal-dialog modal-xl ">
                    <div class="modal-content ">
                        <div class="modal-header ">
                            <h5 class="modal-title text-primary " id="exampleModalLongTitle "><i
                                    class="fas fa-info-circle "></i> Servicio de
                                {{modalServicios[0].tipoServicio.servicio.nombre}}</h5>
                            <button type="button " class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true ">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body ">
                            <div>
                                <table class="table table-striped text-center table- table-bordered ">
                                    <thead class=" thead-dark ">
                                        <tr>
                                            <th scope="col"> Subir foto</th>
                                            <th scope="col ">Recurso</th>
                                            <th scope="col ">Pagado</th>
                                            <th scope="col ">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of modalServicios">
                                            <td>
                                                <div id="div_file">
                                                    <i class="fas fa-camera  text-primary text-lg "></i>
                                                    <input type="file" id="subir{{item.id}}"
                                                        (change)="seleccionarFotoServicio($event,item.id)">
                                                </div>
                                            </td>
                                            <td> {{item.tipoServicio.nombre}}</td>
                                            <td>
                                                <i class="fas fa-check-circle text-success"
                                                    *ngIf="item.statusPago==1"></i>
                                                <i class="fas fa-times-circle text-danger"
                                                    *ngIf="item.statusPago==0"></i>
                                            </td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-3"></div>
                                                    <div class="col-5 text-right">
                                                        <div
                                                            class="custom-control custom-switch custom-switch-off-danger custom-switch-on-success">
                                                            <input type="checkbox" class="custom-control-input"
                                                                id="customSwitch{{item.id}}" [checked]="item.status==1"
                                                                (click)="updateStatusEvidencia(item.id, item.tipoServicio.servicio.id)">
                                                            <label class="custom-control-label"
                                                                for="customSwitch{{item.id}}"
                                                                (click)="updateStatusEvidencia(item.id, item.tipoServicio.servicio.id)"></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-1 text-left">
                                                        <font class="pb-3"><i class="fa fa-spinner fa-spin"
                                                                id="statusEvidencia-{{item.id}}" style="display:none;"
                                                                *ngIf="TimeStatusEvidencia!=0"></i></font>
                                                    </div>
                                                    <div class="col-3"></div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h5 class="modal-title text-primary text-center " id="exampleModalLongTitle "><i
                                    class="far fa-images "></i> Evidencias Subidas</h5>
                            <div class="card callout callout-warning ">
                                <div class="card-body scroll2 ">

                                    <div class="col-12 ">
                                        <div class=" text-center pt-2 ">
                                            <div class="row" *ngIf="evidenciaServicios" id="newPhotosServicios">
                                                <div class="alert alert-info text-center" role="alert"
                                                    style="width: 100%;" *ngIf="evidenciaServicios.length==0">
                                                    A&uacute;n <b>no se han agregado evidencias de
                                                        servicio</b><br>Puedes agregarlas dando clic en el icono:
                                                    <b>&nbsp;
                                                        <i class="fas fa-camera  text-white text-lg "></i>
                                                    </b>
                                                </div>

                                                <div class="col-lg-4" *ngFor="let item of evidenciaServicios">
                                                    <img src="{{urlServicios}}/{{item.img}}"
                                                        style="width: 200px; height: 200px;">
                                                    <font>{{item.registro}} </font>
                                                    <font class="text-info ">{{item.horaRegistro}}h</font>
                                                    <small>
                                                        <font class="text-success "> <i class="fas fa-user-circle "></i>
                                                            {{item.detalleUsuario.usuario.nombre}}
                                                            {{item.detalleUsuario.usuario.aPaterno}}</font>
                                                    </small>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <!--
                        <div class="modal-footer ">
                            <button type="button " class="btn btn-sm btn-primary ">
                                <div>
                                    <div id="div_file">
                                        <i class="fas fa-camera  text-white text-lg "></i>
                                        <input type="file" id="subir3" (change)="seleccionarFotoServicio($event)">SubirFoto<br>
                                    </div>
                                </div>
                            </button>
                        </div>
                    -->
                    </div>
                </div>
            </div>

            <!--/ M  O   D   A   L  -->



        </div>
        <!--  /content  -->
    </div>
    <!--  /wraper  -->
    <!--============================ Main Footer =================================================-->



    <!----------------------------------------------------------------------------------------------------------MODAL 2-------------------------------------------------------------------------------------------------------------------->
    <div class="modal fade bd-example-modal-xl2 ">
        <div class="modal-dialog modal-xl modal-content">
            <div class="modal-body">

                <div class="card">
                    <div class="card-header bg-gradient-primary">
                        <i class="fas fa-exclamation-circle"></i> Incidencia referenciada
                        <button type="button" id="1modR" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                    </div>
                    <form #inciRForm="ngForm" (ngSubmit)="inciRForm.reset()" name="formularioReferenciada">
                        <!-- body-card -->
                        <div class="card-body scrol-barra ">

                            <div class="form-inline text-danger">
                                <i class="fas fa-exclamation-triangle" style="font-size: 20px;"></i>
                                <div class="ml-1"> TIPO DE INCIDENTE</div>
                            </div>
                            <div class="row mt-4 ">
                                <div class="text-center col-2 pb-3">
                                    Seguridad
                                    <div class="form-check">
                                        <input (click)="mostrarIncidentes('1c')" class="form-check-input" type="radio"
                                            name="categoriaRadios" value="Seguridad" [(ngModel)]="incidenciaP.categoria"
                                            required>
                                    </div>
                                </div>
                                <div class="text-center col-1 pb-3">
                                    DaÃ±o
                                    <div class="form-check ">
                                        <input (click)="mostrarIncidentes('2c')" class="form-check-input" type="radio"
                                            name="categoriaRadios" value="DaÃ±o" [(ngModel)]="incidenciaP.categoria"
                                            required>
                                    </div>
                                </div>
                                <div class="text-center col-2 pb-3">
                                    Emergencias
                                    <div class="form-check">
                                        <input (click)="mostrarIncidentes('3c')" class="form-check-input" type="radio"
                                            name="categoriaRadios" value="Emergencias"
                                            [(ngModel)]="incidenciaP.categoria" required>
                                    </div>
                                </div>
                                <div class="text-center col-2 pb-3">
                                    Servicios
                                    <div class="form-check">
                                        <input (click)="mostrarIncidentes('4c')" class="form-check-input" type="radio"
                                            name="categoriaRadios" value="Servicios" [(ngModel)]="incidenciaP.categoria"
                                            required>
                                    </div>
                                </div>
                                <div class="text-center col-2 pb-3">
                                    Armado
                                    <div class="form-check">
                                        <input (click)="mostrarIncidentes('5c')" class="form-check-input" type="radio"
                                            name="categoriaRadios" value="Armado" [(ngModel)]="incidenciaP.categoria"
                                            required>
                                    </div>
                                </div>
                                <div class="text-center col-2 pb-3">
                                    Apariencia
                                    <div class="form-check">
                                        <input (click)="mostrarIncidentes('6c')" class="form-check-input" type="radio"
                                            name="categoriaRadios" value="Apariencia"
                                            [(ngModel)]="incidenciaP.categoria" required>
                                    </div>
                                </div>
                                <div class="text-center col-1 pb-3">
                                    Otra
                                    <div class="form-check">
                                        <input (click)="mostrarIncidentes('7c')" class="form-check-input" type="radio"
                                            name="categoriaRadios" value="Otra" [(ngModel)]="incidenciaP.categoria"
                                            required>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 p-3" id="contenido" style="display: block">

                                <div id="1c" style="display: none;">
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Robo o extravio"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs" for="subcategoria">Robo o
                                            Extravio</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Fuga de gases"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs" for="subcategoria">Fuga de
                                            gases</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Render" [(ngModel)]="incidenciaP.subcategoria"
                                            required><label class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Render</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="DRO" [(ngModel)]="incidenciaP.subcategoria"
                                            required><label class="form-check-label text-secondary text-xs"
                                            for="subcategoria">DRO</label>
                                    </div>
                                </div>

                                <div id="2c" style="display: none;">
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="DaÃ±o al recinto"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs" for="subcategoria">DaÃ±o al
                                            recinto</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="DaÃ±o al stand"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs" for="subcategoria">DaÃ±o al
                                            stand</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="DaÃ±o a terceros"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs" for="subcategoria">DaÃ±o a
                                            terceros</label>
                                    </div>
                                </div>

                                <div id="3c" style="display: none;">
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Sismo" [(ngModel)]="incidenciaP.subcategoria"
                                            required><label class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Sismo</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Ambulancia"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Ambulancia</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Conato de incendio"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs" for="subcategoria">Conato de
                                            incendio</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Lesion/Enfermedad"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Lesion/Enfermedad</label>
                                    </div>
                                    <div class="form-check"><input type="radio" class="form-check-input"
                                            name="subcategoria" value="Amenaza de bomba"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs" for="subcategoria">Amenaza
                                            de bomba</label>
                                    </div>
                                </div>

                                <div id="4c" style="display: none;">
                                    <div class='col-12'>
                                        <div class='row'>
                                            <div class='col-4'>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Alfombra" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Alfombra</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Mobiliario" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Mobiliario</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Luz/Electricidad" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Luz/Electricidad</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Colganteo" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Colganteo</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Montaje InstalaciÃ³n"
                                                        [(ngModel)]="incidenciaP.subcategoria" required><label
                                                        class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Montaje
                                                        InstalaciÃ³n</label>
                                                </div>
                                            </div>
                                            <div class='col-4'>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Renta de inmobiliario"
                                                        [(ngModel)]="incidenciaP.subcategoria" required><label
                                                        class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Renta de
                                                        inmobiliario</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Limpieza" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Limpieza</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Servicio MÃ©dico" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Servicio MÃ©dico</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Estacionamiento" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Estacionamiento</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Renta de plantas" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Renta de plantas</label>
                                                </div>
                                            </div>
                                            <div class='col-4'>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Agua y desague" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Agua y desague</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Aire" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Aire</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Internet" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Internet</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Alimentos y bebidas"
                                                        [(ngModel)]="incidenciaP.subcategoria" required><label
                                                        class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Alimentos y
                                                        bebidas</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div id="5c" style="display: none;">
                                    <div class='col-12'>
                                        <div class='row'>
                                            <div class='col-6'>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Trazado" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Trazado</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Etiquetado" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Etiquetado</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="% Armado" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">% Armado</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="SeparaciÃ³n entre Stands"
                                                        [(ngModel)]="incidenciaP.subcategoria" required><label
                                                        class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">SeparaciÃ³n entre
                                                        Stands</label>
                                                </div>
                                            </div>
                                            <div class='col-6'>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Pago pendiente" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Pago pendiente</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="fuera de marca" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Fuera de marca</label>
                                                </div>
                                                <div class="form-check"><input type="radio" name="subcategoria"
                                                        value="Mobiliario" [(ngModel)]="incidenciaP.subcategoria"
                                                        required><label class="form-check-label text-secondary text-xs"
                                                        for="subcategoria">Mobiliario</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div id="6c" style="display: none;">
                                    <div class="form-check"><input type="radio" name="subcategoria" value="Limpieza"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Limpieza</label>
                                    </div>
                                    <div class="form-check"><input type="radio" name="subcategoria" value="Alfombra"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Alfombra</label>
                                    </div>
                                    <div class="form-check"><input type="radio" name="subcategoria"
                                            value="Detalles por terminar" [(ngModel)]="incidenciaP.subcategoria"
                                            required><label class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Detalles por terminar</label>
                                    </div>
                                    <div class="form-check"><input type="radio" name="subcategoria"
                                            value="Esconder pared posterior" [(ngModel)]="incidenciaP.subcategoria"
                                            required><label class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Esconder pared
                                            posterior</label>
                                    </div>
                                </div>

                                <div id="7c" style="display: none;">
                                    <div class="form-check"><input type="radio" name="subcategoria" value="Otra"
                                            [(ngModel)]="incidenciaP.subcategoria" required><label
                                            class="form-check-label text-secondary text-xs"
                                            for="subcategoria">Otra</label>
                                    </div>
                                </div>
                            </div>

                            <hr />
                            <div class="form-inline text-danger">
                                <i class="fas fa-user-check" style="font-size: 20px;"></i>
                                <div class="ml-1">SEGUIMIENTO CON...</div>
                            </div>
                            <div class="row mt-4 mb-5">
                                <div class="text-center col-2 ">
                                    Floor Manager
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="seguimiento"
                                            value="FloorManager" [(ngModel)]="incidenciaP.seguimiento">
                                    </div>
                                </div>
                                <div class="text-center col-2 pb-3">
                                    Seguridad
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="seguimiento"
                                            value="Seguridad" [(ngModel)]="incidenciaP.seguimiento">
                                    </div>
                                </div>
                                <div class="text-center col-4 pb-3">
                                    Seguridad Recinto
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="seguimiento"
                                            value="SeguridadRecinto" [(ngModel)]="incidenciaP.seguimiento">
                                    </div>
                                </div>
                                <div class="text-center col-2 pb-3">
                                    Comite
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="seguimiento" value="Comite"
                                            [(ngModel)]="incidenciaP.seguimiento">
                                    </div>
                                </div>
                                <div class="text-center col-2 pb-3">
                                    Otra
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="seguimiento" value="Otra"
                                            [(ngModel)]="incidenciaP.seguimiento">
                                    </div>
                                </div>
                                <div class="col-12 pt-4">
                                    <input type="search" style="background-color: #e8e8e8" class="form-control"
                                        placeholder="Empresa" name="empresaSeguimiento"
                                        [(ngModel)]="incidenciaP.empresaSeguimiento" required
                                        #empresaSeguimiento="ngModel">
                                    <div class="alert alert-danger"
                                        *ngIf="empresaSeguimiento.invalid && (empresaSeguimiento.dirty || empresaSeguimiento.touched)">
                                        <div *ngIf="empresaSeguimiento.errors.required">
                                            La empresa es requerida.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 pt-2">
                                    <input type="search" style="background-color: #e8e8e8" class="form-control"
                                        placeholder="Nombre" name="nombreSeguimiento"
                                        [(ngModel)]="incidenciaP.nombreSeguimiento" required
                                        #nombreSeguimiento="ngModel">
                                    <div class="alert alert-danger"
                                        *ngIf="nombreSeguimiento.invalid && (nombreSeguimiento.dirty || nombreSeguimiento.touched)">
                                        <div *ngIf="nombreSeguimiento.errors.required">
                                            El nombre es requerido.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- /row -->
                            <hr />
                            <!-- 3hr -->

                            <div class="form-inline text-danger">
                                <i class="fas fa-keyboard" style="font-size: 20px;"></i>
                                <div class="ml-1">DESCRIPCIÃ“N / RESUMEN DEL BIEN O INCIDENTE</div>
                            </div>
                            <textarea class="form-control mt-4" style="background-color: #e8e8e8"
                                placeholder="Escribe aquÃ­..." rows="3" name="descripcion"
                                [(ngModel)]="incidenciaP.descripcion" required #descripcion="ngModel"></textarea>
                            <div class="alert alert-danger"
                                *ngIf="descripcion.invalid && (descripcion.dirty || descripcion.touched)">
                                <div *ngIf="descripcion.errors.required">
                                    La descripciÃ³n es requerida.
                                </div>
                            </div>

                            <hr />
                            <!-- 4hr -->
                            <div class="form-inline text-danger">
                                <i class="fas fa-toggle-on" style="font-size: 20px;"></i>
                                <div class="ml-1">ESTATUS</div>
                            </div>
                            <div class="col-12">
                                <div class="row  mt-4">
                                    <div class="col-6 text-center">
                                        <select class="form-control form-control-sm bg-primary" name="status"
                                            [(ngModel)]="incidenciaP.status" id="selectStatus2" (change)="cambiarColorR()"
                                            required #status="ngModel">
                                            <option value="0" [ngValue]="undefined">Selecciona</option>
                                            <option value="1">No iniciada</option>
                                            <option value="2">Proceso</option>
                                            <option value="3">Terminada</option>
                                        </select>
                                        <div class="alert alert-danger"
                                            *ngIf="status.invalid && (status.dirty || status.touched)">
                                            <div *ngIf="status.errors.required">
                                                Seleccione un status.
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="card-footer text-right">
                            <button type="button" class="btn btn-sm btn-success " [disabled]="!inciRForm.form.valid">
                                <div id="div_file">
                                    <i class="fas fa-camera  text-white text-lg "></i>
                                    <input type="file"
                                        style="opacity: 0; width: 100px; margin: 0px; padding: 0px; position: absolute;"
                                        required accept="image/*" (change)="seleccionarFotoR($event)">SubirFoto<br>
                                </div>
                            </button>
                            <!--
                <button class="btn btn-primary" role="button" [disabled]="!inciGForm.form.valid">
                  Guardar
                </button>-->
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <!-- /MODAL -->



    <!--  / M  O   D   A   L   V E R      E V I D E N C I A S -->

    <div class="modal fade bd-example-modal-xl3" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-primary text-center" id="exampleModalLongTitle"><i
                            class="far fa-images"></i> Evidencias del porcentaje de avance</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body ">
                    <div class="card callout callout-success">
                        <div class="card-body scroll3">

                            <div class="col-12">
                                <div class=" ">
                                    <div class="row" *ngIf="evidenciasArmado" id="newPhotos">
                                        <div class="alert alert-info text-center" role="alert" style="width: 100%;"
                                            *ngIf="emptyArray(evidenciasArmado.length)">
                                            A&uacute;n <b>no se han agregado evidencias</b><br>Puedes agregarlas dando
                                            clic en el botÃ³n: <b><br>
                                                <i class="fas fa-camera  text-white text-lg "></i>
                                                Subir foto
                                            </b>
                                        </div>

                                        <div class="col-lg-6 p-2" *ngFor="let item of evidenciasArmado">
                                            <img src="{{url}}/{{item.img}}" style="width: 300px; height: 200px;">
                                            <b class="text-danger"><label
                                                    *ngIf="item.porcentajeArmado==0">&nbsp;&nbsp;</label>{{item.porcentajeArmado}}%
                                            </b>
                                            <font>{{item.registro}} </font>
                                            <font class="text-info">{{item.horaRegistro}}h</font>
                                            <font class="text-success pl-4"> <i class="fas fa-user-circle"></i>
                                                {{item.detalleUsuario.usuario.nombre}}
                                                {{item.detalleUsuario.usuario.aPaterno}}
                                            </font>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal-footer">

                    <button type="button" class="btn btn-sm btn-primary">
                        <div>
                            <div id="div_file">
                                <i class="fas fa-camera  text-white text-lg "></i>
                                <input type="file" (change)="seleccionarFoto($event)">SubirFoto<br>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>